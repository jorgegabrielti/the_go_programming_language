# 1.1 Hello World em Go

## Introdução

Go é uma linguagem de programação moderna, compilada e de código aberto, desenvolvida pelo Google. Assim como a tradição iniciada pelo livro "The C Programming Language" (1978), começamos nossos estudos com o programa "Hello, World!".

## O Código

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
}
```

## Estrutura do Programa

### 1. Declaração do Pacote
Todo arquivo Go começa com uma declaração `package`. O pacote `main` é especial pois indica que este é um programa executável, não uma biblioteca.

### 2. Importações
A linha `import "fmt"` traz o pacote de formatação da biblioteca padrão do Go. Este pacote contém funções para entrada e saída formatada.

### 3. Função Principal
A função `main()` é o ponto de entrada do programa. Todo programa executável em Go deve ter uma função `main` no pacote `main`.

## Características Importantes

1. **Sintaxe Clara**: Go foi projetada para ser simples e legível
2. **Compilação Rápida**: O compilador Go é conhecido por sua eficiência
3. **Suporte Unicode Nativo**: Go pode processar texto em qualquer idioma
4. **Ferramentas Integradas**: O comando `go` fornece todas as ferramentas necessárias

## Como Compilar e Executar

### Método 1: Execução Direta
```bash
go run helloworld.go
```
Este comando compila e executa o programa em um único passo.

### Método 2: Compilação Separada
```bash
go build helloworld.go    # Cria um executável
./helloworld             # Linux/Mac
.\helloworld.exe         # Windows
```
Este método cria um arquivo executável que pode ser usado posteriormente.

## Conceitos Aprendidos

1. Estrutura básica de um programa Go
2. Declaração de pacotes
3. Importação de bibliotecas
4. Função main como ponto de entrada
5. Comandos básicos do Go
   - `go run`: compilação e execução
   - `go build`: compilação para executável

## Exercícios Sugeridos

1. Modifique a mensagem para exibir seu nome
2. Adicione mais chamadas a `fmt.Println`
3. Experimente outros métodos do pacote `fmt`
4. Compare `fmt.Print` com `fmt.Println`

## Próximos Passos

- Variáveis e tipos de dados
- Estruturas de controle
- Funções e pacotes
- Conceitos mais avançados da linguagem

Se o programa não for apenas um experimento descartável, é recomendável compilá-lo uma vez e salvar o resultado para uso futuro. Isso é feito com **`go build`**:

**Exemplo de Compilação:**

```bash
$ go build helloworld.go
```

Esse comando **cria um arquivo binário executável** (neste caso, `helloworld`). Esse executável pode ser rodado a qualquer momento, sem processamentos adicionais:

```bash
$ ./helloworld
Hello,世界
```

### 3. Obtendo o Código-Fonte (`go get`)

Os exemplos de código do livro estão disponíveis no repositório `gopl.io/ch1/helloworld`. Você pode buscar o código-fonte e colocá-lo no diretório correspondente usando o comando `go get`:

```bash
$ go get gopl.io/ch1/helloworld
```

## Estrutura Fundamental do Programa Go

Todo código em Go é organizado em **pacotes**, que são análogos a bibliotecas ou módulos em outras linguagens.

### Pacotes e o Ponto de Início

1. **Declaração `package`**: Um pacote é constituído de um ou mais arquivos-fonte `.go` em um único diretório. Cada arquivo-fonte deve começar com uma declaração `package`, definindo a qual pacote ele pertence (e.g., `package main`).
2. **`package main`**: Este pacote é **especial** porque define um **programa executável independente**, e não uma biblioteca.
3. **`func main()`**: Dentro do `package main`, a função `main` também é **especial**: é onde a execução do programa começa. O que `main` faz é o que o programa faz, geralmente chamando funções de outros pacotes para realizar a maior parte do trabalho (como a função `fmt.Println`).

### Importações (`import`)

A **declaração `import`** segue a declaração `package` e é usada para informar ao compilador quais pacotes são necessários para o arquivo-fonte.

*   A biblioteca-padrão de Go contém mais de cem pacotes para tarefas comuns.
*   O pacote `fmt`, por exemplo, contém funções para exibir saídas formatadas e processar entradas.
*   **`fmt.Println`** é uma função básica de saída que exibe um ou mais valores separados por espaços, com uma quebra de linha no final.
*   **Requisito Rigoroso de Importação:** Você deve importar exatamente os pacotes de que precisa. Um programa **não compilará** se houver importações faltando ou importações desnecessárias. Este requisito evita que referências a pacotes não utilizados se acumulem à medida que os programas evoluem.

### Declarações de Funções

A declaração de função é definida pela palavra reservada **`func`**, seguida pelo nome da função, uma lista de parâmetros (vazia para `main`), uma lista de resultados (vazia neste caso) e o corpo da função entre chaves.

De modo geral, as declarações de funções, variáveis, constantes e tipos (introduzidas por `func`, `var`, `const` e `type`) podem aparecer em qualquer ordem, exceto as declarações `package` e `import`, que devem vir primeiro.

## Formatação do Código e Ferramentas

Go não exige ponto-e-vírgula no final de instruções ou declarações, a menos que haja duas ou mais na mesma linha. As quebras de linha após determinados elementos sintáticos são convertidas em ponto-e-vírgula, o que torna a colocação dessas quebras importante para a análise correta do código.

**Importante sobre a sintaxe:** A chave de abertura `{` da função deve estar na mesma linha que o final da declaração `func`, e não em uma linha separada.

### A Ferramenta `gofmt`

Go adota uma posição rígida quanto à formatação do código. A ferramenta **`gofmt`** reescreve o código em um formato padrão.

*   O subcomando **`go fmt`** aplica `gofmt` aos arquivos do pacote.
*   Estabelecer um formato padrão elimina debates desnecessários sobre trivialidades e, crucialmente, permite várias transformações automáticas de código-fonte que seriam impraticáveis se fosse permitida formatação arbitrária.
*   É um bom hábito submeter seu código a `gofmt`. Muitos editores podem ser configurados para executá-lo automaticamente ao salvar.

### `goimports`

Uma ferramenta relacionada, chamada **`goimports`**, adicionalmente administra a inserção e remoção das declarações de importação conforme a necessidade. Embora não faça parte da distribuição padrão, pode ser obtida com o seguinte comando:

```bash
$ go get golang.org/x/tools/cmd/goimports
```

A maneira usual de fazer download e gerar pacotes, executar testes e visualizar documentação é, em geral, por meio da ferramenta `go`.

***

> **Analogia:** Pense na estrutura do Go como um sistema postal eficiente. O **`package main`** é o endereço na embalagem (dizendo que é para entrega local e execução), a **`import`** é a lista de serviços que você precisa usar (como correio aéreo ou registrada, usando o pacote `fmt` para escrita de mensagens), e a **`func main`** é a instrução exata para o carteiro: "comece aqui" e chame os serviços importados para fazer o trabalho. O **`gofmt`** é o padrão rigoroso de caligrafia que garante que todos os envelopes sejam legíveis e processados de forma idêntica e automática.